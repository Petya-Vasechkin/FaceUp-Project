{"ast":null,"code":"var _jsxFileName = \"/Users/pavelmetelev/Desktop/Projects/HTML_CSS_JS_Information/React JS/trust-box-app/client/src/components/blocks/NotificationForm.tsx\",\n  _s = $RefreshSig$();\nimport React, { useState } from 'react';\n// import axios from 'axios';\nimport OtherFields from './OtherFields';\nimport { Link } from 'react-router-dom';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst NotificationForm = () => {\n  _s();\n  const [selectedCategory, setSelectedCategory] = useState('');\n  const [showOtherFields, setShowOtherFields] = useState(false);\n  const [formData, setFormData] = useState({\n    category: '',\n    sender_name: '',\n    sender_age: '',\n    details: '',\n    file_url: ''\n  });\n  const handleCategoryChange = e => {\n    setSelectedCategory(e.target.value);\n    setFormData(prev => ({\n      ...prev,\n      category: e.target.value\n    }));\n  };\n  const handleContinue = e => {\n    e.preventDefault();\n    setShowOtherFields(true);\n  };\n  const handleSubmit = async otherFieldsData => {\n    const finalData = {\n      ...formData,\n      ...otherFieldsData\n    };\n    console.log('Sending data:', finalData);\n    try {\n      const response = await fetch('http://localhost:3001/api/notifications', {\n        method: 'POST',\n        headers: {\n          'Content-Type': 'application/json'\n        },\n        body: JSON.stringify(finalData)\n      });\n      const data = await response.json();\n      console.log('Success:', data);\n\n      // Очистка формы\n      setFormData({\n        category: '',\n        sender_name: '',\n        sender_age: '',\n        details: '',\n        file_url: ''\n      });\n      setSelectedCategory('');\n      setShowOtherFields(false);\n\n      // Перенаправление на список уведомлений\n      // window.location.href = '/lists';\n      // или для обновления текущей страницы\n      // window.location.reload();\n    } catch (error) {\n      console.error('Error:', error);\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"flex flex-col items-center py-12 px-4 w-[814px] h-[844px]\",\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"w-full max-w-2xl\",\n      children: [/*#__PURE__*/_jsxDEV(Link, {\n        to: \"/lists\",\n        className: \"text-[#0095FF] hover:text-[#0077CC] mb-4 inline-block text-sm\",\n        children: \"\\u2190 Zp\\u011Bt na seznam\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 78,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"h1\", {\n        className: \"text-3xl font-bold text-[#0A2540] text-center mb-8\",\n        children: \"Nov\\xE9 ozn\\xE1men\\xED\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 79,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n        className: \"space-y-6\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            className: \"text-[#4F6C8D] mb-2 flex items-center text-sm\",\n            children: [/*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"text-[#4F6C8D]\",\n              children: \"Kategorie\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 83,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"text-red-500 ml-0.5\",\n              children: \"*\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 84,\n              columnNumber: 29\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 82,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n            className: \"w-full p-3 border border-[#E5E9F2] rounded-xl focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm text-[#0085ff]\",\n            required: true,\n            value: selectedCategory,\n            onChange: handleCategoryChange,\n            children: [/*#__PURE__*/_jsxDEV(\"option\", {\n              value: \"\",\n              disabled: true,\n              children: \"Vyberte jednu mo\\u017Enost\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 89,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n              value: \"sikana\",\n              children: \"\\u0160ikana, \\u0161patn\\xE9 chov\\xE1n\\xED\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 90,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n              value: \"uceni\",\n              children: \"Pot\\xED\\u017Ee s u\\u010Den\\xEDm\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 91,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n              value: \"problemy\",\n              children: \"Probl\\xE9my doma\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 92,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n              value: \"jine\",\n              children: \"N\\u011Bco jin\\xE9ho\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 93,\n              columnNumber: 29\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 87,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 81,\n          columnNumber: 21\n        }, this), !showOtherFields && /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: handleContinue,\n          disabled: !selectedCategory,\n          className: `w-full p-3 rounded-xl text-white font-medium transition-all duration-200 text-sm ${selectedCategory ? 'bg-[#0095FF] hover:bg-[#0077CC] cursor-pointer' : 'bg-[#E5E9F2] cursor-not-allowed'}`,\n          children: \"Pokra\\u010Dovat\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 97,\n          columnNumber: 25\n        }, this), showOtherFields && /*#__PURE__*/_jsxDEV(OtherFields, {\n          onSubmit: handleSubmit\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 109,\n          columnNumber: 41\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 80,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 77,\n      columnNumber: 13\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 76,\n    columnNumber: 9\n  }, this);\n};\n_s(NotificationForm, \"5e7zdChaE7qx9NIJzJsULfqCQmY=\");\n_c = NotificationForm;\nexport default NotificationForm;\nvar _c;\n$RefreshReg$(_c, \"NotificationForm\");","map":{"version":3,"names":["React","useState","OtherFields","Link","jsxDEV","_jsxDEV","NotificationForm","_s","selectedCategory","setSelectedCategory","showOtherFields","setShowOtherFields","formData","setFormData","category","sender_name","sender_age","details","file_url","handleCategoryChange","e","target","value","prev","handleContinue","preventDefault","handleSubmit","otherFieldsData","finalData","console","log","response","fetch","method","headers","body","JSON","stringify","data","json","error","className","children","to","fileName","_jsxFileName","lineNumber","columnNumber","required","onChange","disabled","onClick","onSubmit","_c","$RefreshReg$"],"sources":["/Users/pavelmetelev/Desktop/Projects/HTML_CSS_JS_Information/React JS/trust-box-app/client/src/components/blocks/NotificationForm.tsx"],"sourcesContent":["\nimport React, { useState } from 'react';\n// import axios from 'axios';\nimport OtherFields from './OtherFields';\nimport { Link } from 'react-router-dom';\n\n\nconst NotificationForm = () => {\n    const [selectedCategory, setSelectedCategory] = useState<string>('');\n    const [showOtherFields, setShowOtherFields] = useState<boolean>(false);\n\n    const [formData, setFormData] = useState({\n        category: '',\n        sender_name: '',\n        sender_age: '',\n        details: '',\n        file_url: ''\n    });\n\n    const handleCategoryChange = (e: React.ChangeEvent<HTMLSelectElement>) => {\n        setSelectedCategory(e.target.value);\n        setFormData(prev => ({ ...prev, category: e.target.value }));\n    };\n\n    const handleContinue = (e: React.FormEvent) => {\n        e.preventDefault();\n        setShowOtherFields(true);\n    };\n\n    const handleSubmit = async (otherFieldsData: {\n        sender_name: string,\n        sender_age: string,\n        details: string,\n        file_url: string\n    }) => {\n        const finalData = {\n            ...formData,\n            ...otherFieldsData\n        };\n\n        console.log('Sending data:', finalData);\n\n        try {\n            const response = await fetch('http://localhost:3001/api/notifications', {\n                method: 'POST',\n                headers: {\n                    'Content-Type': 'application/json',\n                },\n                body: JSON.stringify(finalData)\n            });\n            const data = await response.json();\n            console.log('Success:', data);\n\n            // Очистка формы\n            setFormData({\n                category: '',\n                sender_name: '',\n                sender_age: '',\n                details: '',\n                file_url: ''\n            });\n            setSelectedCategory('');\n            setShowOtherFields(false);\n\n            // Перенаправление на список уведомлений\n            // window.location.href = '/lists';\n            // или для обновления текущей страницы\n            // window.location.reload();\n\n        } catch (error) {\n            console.error('Error:', error);\n        }\n    };\n\n    return (\n        <div className=\"flex flex-col items-center py-12 px-4 w-[814px] h-[844px]\">{/* bg-green-100 */}\n            <div className=\"w-full max-w-2xl\">\n                <Link to=\"/lists\" className=\"text-[#0095FF] hover:text-[#0077CC] mb-4 inline-block text-sm\">← Zpět na seznam</Link>\n                <h1 className=\"text-3xl font-bold text-[#0A2540] text-center mb-8\">Nové oznámení</h1>\n                <form className=\"space-y-6\">\n                    <div>\n                        <label className=\"text-[#4F6C8D] mb-2 flex items-center text-sm\">\n                            <span className=\"text-[#4F6C8D]\">Kategorie</span>\n                            <span className=\"text-red-500 ml-0.5\">*</span>\n                        </label>\n\n                        <select className=\"w-full p-3 border border-[#E5E9F2] rounded-xl focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm text-[#0085ff]\" required value={selectedCategory}\n                            onChange={handleCategoryChange}>\n                            <option value=\"\" disabled>Vyberte jednu možnost</option>\n                            <option value=\"sikana\">Šikana, špatné chování</option>\n                            <option value=\"uceni\">Potíže s učením</option>\n                            <option value=\"problemy\">Problémy doma</option>\n                            <option value=\"jine\">Něco jiného</option>\n                        </select>\n                    </div>\n                    {!showOtherFields && (\n                        <button\n                            onClick={handleContinue}\n                            disabled={!selectedCategory}\n                            className={`w-full p-3 rounded-xl text-white font-medium transition-all duration-200 text-sm ${selectedCategory\n                                ? 'bg-[#0095FF] hover:bg-[#0077CC] cursor-pointer'\n                                : 'bg-[#E5E9F2] cursor-not-allowed'\n                                }`}\n                        >\n                            Pokračovat\n                        </button>\n                    )}\n                    {/* {showOtherFields && <OtherFields onSubmit={() => console.log('Form submitted')} />} */}\n                    {showOtherFields && <OtherFields onSubmit={handleSubmit} />}\n\n                </form>\n\n            </div>\n        </div>\n    );\n};\n\nexport default NotificationForm;\n\n\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}